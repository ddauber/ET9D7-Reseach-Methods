<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Descriptive Statistics | R for Non-Programmers: A Guide for Social Scientists</title>
  <meta name="description" content="This books is intended for Social Scientists. No matter whether you have years of experiences, this book might come in handy if you never use R or any other programming language before." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Descriptive Statistics | R for Non-Programmers: A Guide for Social Scientists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This books is intended for Social Scientists. No matter whether you have years of experiences, this book might come in handy if you never use R or any other programming language before." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Descriptive Statistics | R for Non-Programmers: A Guide for Social Scientists" />
  
  <meta name="twitter:description" content="This books is intended for Social Scientists. No matter whether you have years of experiences, this book might come in handy if you never use R or any other programming language before." />
  

<meta name="author" content="Daniel Dauber" />


<meta name="date" content="2021-08-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-wrangling.html"/>
<link rel="next" href="correlations.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Non-Programmers</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome üëã</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments üôè</a></li>
<li class="chapter" data-level="1" data-path="readme-before-you-get-started.html"><a href="readme-before-you-get-started.html"><i class="fa fa-check"></i><b>1</b> <code>Readme.</code> Before you get started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="readme-before-you-get-started.html"><a href="readme-before-you-get-started.html#a-starting-point-and-reference-book"><i class="fa fa-check"></i><b>1.1</b> A starting point and reference book</a></li>
<li class="chapter" data-level="1.2" data-path="readme-before-you-get-started.html"><a href="readme-before-you-get-started.html#download-the-companion-r-package"><i class="fa fa-check"></i><b>1.2</b> Download the companion R package</a></li>
<li class="chapter" data-level="1.3" data-path="readme-before-you-get-started.html"><a href="readme-before-you-get-started.html#a-tidyverse-approach-with-some-basic-r"><i class="fa fa-check"></i><b>1.3</b> A ‚Äòtidyverse‚Äô approach with some basic R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="why-learn-a-programming-language-as-a-non-programmer.html"><a href="why-learn-a-programming-language-as-a-non-programmer.html"><i class="fa fa-check"></i><b>2</b> Why learn a programming language as a non-programmer?</a>
<ul>
<li class="chapter" data-level="2.1" data-path="why-learn-a-programming-language-as-a-non-programmer.html"><a href="why-learn-a-programming-language-as-a-non-programmer.html#learning-new-tools-to-analyse-your-data-is-always-essential"><i class="fa fa-check"></i><b>2.1</b> Learning new tools to analyse your data is always essential</a></li>
<li class="chapter" data-level="2.2" data-path="why-learn-a-programming-language-as-a-non-programmer.html"><a href="why-learn-a-programming-language-as-a-non-programmer.html#programming-languages-enhance-your-conceptual-thinking"><i class="fa fa-check"></i><b>2.2</b> Programming languages enhance your conceptual thinking</a></li>
<li class="chapter" data-level="2.3" data-path="why-learn-a-programming-language-as-a-non-programmer.html"><a href="why-learn-a-programming-language-as-a-non-programmer.html#programming-languages-allow-you-to-look-at-your-data-from-a-different-angle"><i class="fa fa-check"></i><b>2.3</b> Programming languages allow you to look at your data from a different angle</a></li>
<li class="chapter" data-level="2.4" data-path="why-learn-a-programming-language-as-a-non-programmer.html"><a href="why-learn-a-programming-language-as-a-non-programmer.html#learning-any-programming-language-will-help-you-learn-other-programming-languages."><i class="fa fa-check"></i><b>2.4</b> Learning any programming language will help you learn other programming languages.</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="setting-up-r-and-rstudio.html"><a href="setting-up-r-and-rstudio.html"><i class="fa fa-check"></i><b>3</b> Setting up R and RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="setting-up-r-and-rstudio.html"><a href="setting-up-r-and-rstudio.html#installing-r"><i class="fa fa-check"></i><b>3.1</b> Installing R</a></li>
<li class="chapter" data-level="3.2" data-path="setting-up-r-and-rstudio.html"><a href="setting-up-r-and-rstudio.html#installing-rstudio"><i class="fa fa-check"></i><b>3.2</b> Installing RStudio</a></li>
<li class="chapter" data-level="3.3" data-path="setting-up-r-and-rstudio.html"><a href="setting-up-r-and-rstudio.html#when-you-first-start-rstudio"><i class="fa fa-check"></i><b>3.3</b> When you first start RStudio</a></li>
<li class="chapter" data-level="3.4" data-path="setting-up-r-and-rstudio.html"><a href="setting-up-r-and-rstudio.html#updating-r-and-rstudio"><i class="fa fa-check"></i><b>3.4</b> Updating R and RStudio: Living at the pulse of innovation</a></li>
<li class="chapter" data-level="3.5" data-path="setting-up-r-and-rstudio.html"><a href="setting-up-r-and-rstudio.html#rstudio-cloud"><i class="fa fa-check"></i><b>3.5</b> RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-rstudio-interface.html"><a href="the-rstudio-interface.html"><i class="fa fa-check"></i><b>4</b> The RStudio Interface</a>
<ul>
<li class="chapter" data-level="4.1" data-path="the-rstudio-interface.html"><a href="the-rstudio-interface.html#the-console-window"><i class="fa fa-check"></i><b>4.1</b> The Console window</a></li>
<li class="chapter" data-level="4.2" data-path="the-rstudio-interface.html"><a href="the-rstudio-interface.html#the-source-window"><i class="fa fa-check"></i><b>4.2</b> The Source window</a></li>
<li class="chapter" data-level="4.3" data-path="the-rstudio-interface.html"><a href="the-rstudio-interface.html#the-environment-history-connections-tutorial-window"><i class="fa fa-check"></i><b>4.3</b> The Environment / History / Connections / Tutorial window</a></li>
<li class="chapter" data-level="4.4" data-path="the-rstudio-interface.html"><a href="the-rstudio-interface.html#the-files-plots-packages-help-viewer-window"><i class="fa fa-check"></i><b>4.4</b> The Files / Plots / Packages / Help / Viewer window</a></li>
<li class="chapter" data-level="4.5" data-path="the-rstudio-interface.html"><a href="the-rstudio-interface.html#customise-your-user-interface"><i class="fa fa-check"></i><b>4.5</b> Customise your user interface</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html"><i class="fa fa-check"></i><b>5</b> R Basics: The very fundamentals</a>
<ul>
<li class="chapter" data-level="5.1" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#basic-computations-in-r"><i class="fa fa-check"></i><b>5.1</b> Basic computations in R</a></li>
<li class="chapter" data-level="5.2" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#assigning-values-to-objects"><i class="fa fa-check"></i><b>5.2</b> Assigning values to objects: ‚Äò&lt;-‚Äô</a></li>
<li class="chapter" data-level="5.3" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#functions"><i class="fa fa-check"></i><b>5.3</b> Functions</a></li>
<li class="chapter" data-level="5.4" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#r-packages"><i class="fa fa-check"></i><b>5.4</b> R packages</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#installing-packages-using-a-function"><i class="fa fa-check"></i><b>5.4.1</b> Installing packages using <code>install.packages()</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#installing-packages-via-rstudio"><i class="fa fa-check"></i><b>5.4.2</b> Installing packages via RStudio‚Äôs package pane</a></li>
<li class="chapter" data-level="5.4.3" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#using-r-packages"><i class="fa fa-check"></i><b>5.4.3</b> Using R Packages</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#coding-etiquette"><i class="fa fa-check"></i><b>5.5</b> Coding etiquette</a></li>
<li class="chapter" data-level="5.6" data-path="r-basics-the-very-fundamentals.html"><a href="r-basics-the-very-fundamentals.html#exercises-chapter-5"><i class="fa fa-check"></i><b>5.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="starting-your-r-projects.html"><a href="starting-your-r-projects.html"><i class="fa fa-check"></i><b>6</b> Starting your R projects</a>
<ul>
<li class="chapter" data-level="6.1" data-path="starting-your-r-projects.html"><a href="starting-your-r-projects.html#creating-an-r-project"><i class="fa fa-check"></i><b>6.1</b> Creating an R Project file</a></li>
<li class="chapter" data-level="6.2" data-path="starting-your-r-projects.html"><a href="starting-your-r-projects.html#organising-your-projects"><i class="fa fa-check"></i><b>6.2</b> Organising your projects</a></li>
<li class="chapter" data-level="6.3" data-path="starting-your-r-projects.html"><a href="starting-your-r-projects.html#creating-an-r-script"><i class="fa fa-check"></i><b>6.3</b> Creating an R Script</a></li>
<li class="chapter" data-level="6.4" data-path="starting-your-r-projects.html"><a href="starting-your-r-projects.html#r-markdown-and-r-notebooks"><i class="fa fa-check"></i><b>6.4</b> Using R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>7</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-wrangling.html"><a href="data-wrangling.html#import-your-data"><i class="fa fa-check"></i><b>7.1</b> Import your data</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#import-data-from-the-files-pane"><i class="fa fa-check"></i><b>7.1.1</b> Import data from the Files pane</a></li>
<li class="chapter" data-level="7.1.2" data-path="data-wrangling.html"><a href="data-wrangling.html#importing-data-from-the-environment-pane"><i class="fa fa-check"></i><b>7.1.2</b> Importing data from the Environment pane</a></li>
<li class="chapter" data-level="7.1.3" data-path="data-wrangling.html"><a href="data-wrangling.html#importing-data-using-functions"><i class="fa fa-check"></i><b>7.1.3</b> Importing data using functions directly</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="data-wrangling.html"><a href="data-wrangling.html#inspecting-raw-data"><i class="fa fa-check"></i><b>7.2</b> Inspecting your data</a></li>
<li class="chapter" data-level="7.3" data-path="data-wrangling.html"><a href="data-wrangling.html#colnames-cleaning"><i class="fa fa-check"></i><b>7.3</b> Cleaning your column names: Call the <code>janitor</code></a></li>
<li class="chapter" data-level="7.4" data-path="data-wrangling.html"><a href="data-wrangling.html#change-data-types"><i class="fa fa-check"></i><b>7.4</b> Data types: What are they and how can you change them</a></li>
<li class="chapter" data-level="7.5" data-path="data-wrangling.html"><a href="data-wrangling.html#handling-factors"><i class="fa fa-check"></i><b>7.5</b> Handling factors</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="data-wrangling.html"><a href="data-wrangling.html#recoding-factors"><i class="fa fa-check"></i><b>7.5.1</b> Recoding factors</a></li>
<li class="chapter" data-level="7.5.2" data-path="data-wrangling.html"><a href="data-wrangling.html#reordering-factor-levels"><i class="fa fa-check"></i><b>7.5.2</b> Reordering factor levels</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="data-wrangling.html"><a href="data-wrangling.html#dealing-with-missing-data"><i class="fa fa-check"></i><b>7.6</b> Dealing with missing data</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="data-wrangling.html"><a href="data-wrangling.html#mapping-missing-data"><i class="fa fa-check"></i><b>7.6.1</b> Mapping missing data</a></li>
<li class="chapter" data-level="7.6.2" data-path="data-wrangling.html"><a href="data-wrangling.html#patterns-of-missing-data"><i class="fa fa-check"></i><b>7.6.2</b> Identifying patterns of missing data</a></li>
<li class="chapter" data-level="7.6.3" data-path="data-wrangling.html"><a href="data-wrangling.html#replacing-removing-missing-data"><i class="fa fa-check"></i><b>7.6.3</b> Replacing or removing missing data</a></li>
<li class="chapter" data-level="7.6.4" data-path="data-wrangling.html"><a href="data-wrangling.html#main-takeaways-regarding-dealing-with-missing-data"><i class="fa fa-check"></i><b>7.6.4</b> Main takeaways regarding dealing with missing data</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="data-wrangling.html"><a href="data-wrangling.html#latent-constructs"><i class="fa fa-check"></i><b>7.7</b> Latent constructs and their reliability</a></li>
<li class="chapter" data-level="7.8" data-path="data-wrangling.html"><a href="data-wrangling.html#conclusion-data-wrangling"><i class="fa fa-check"></i><b>7.8</b> Once you finished with data wrangling</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>8</b> Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#plotting-in-r-with-ggplot2"><i class="fa fa-check"></i><b>8.1</b> Plotting in R with <code>ggplot2</code></a></li>
<li class="chapter" data-level="8.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#central-tendency"><i class="fa fa-check"></i><b>8.2</b> Central tendency measures: Mean, Median, Mode</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#mean"><i class="fa fa-check"></i><b>8.2.1</b> Mean</a></li>
<li class="chapter" data-level="8.2.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#median"><i class="fa fa-check"></i><b>8.2.2</b> Median</a></li>
<li class="chapter" data-level="8.2.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#mode"><i class="fa fa-check"></i><b>8.2.3</b> Mode</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#spread-of-data"><i class="fa fa-check"></i><b>8.3</b> Indicators and visualisations to examine the spread of data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#qq-plot"><i class="fa fa-check"></i><b>8.3.1</b> QQ plot: A ‚Äòcute‚Äô plot to check for normality in your data</a></li>
<li class="chapter" data-level="8.3.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#standard-deviation"><i class="fa fa-check"></i><b>8.3.2</b> Standard deviation: Your average deviation from the mean</a></li>
<li class="chapter" data-level="8.3.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#dealing-with-outliers"><i class="fa fa-check"></i><b>8.3.3</b> Dealing with outliers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="correlations.html"><a href="correlations.html"><i class="fa fa-check"></i><b>9</b> Correlations</a></li>
<li class="chapter" data-level="10" data-path="comparing-groups.html"><a href="comparing-groups.html"><i class="fa fa-check"></i><b>10</b> Comparing groups</a></li>
<li class="chapter" data-level="11" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>11</b> Regression: Creating models to predict future observations</a></li>
<li class="chapter" data-level="12" data-path="mixed-methods-research-analysing-qualitative-in-r.html"><a href="mixed-methods-research-analysing-qualitative-in-r.html"><i class="fa fa-check"></i><b>12</b> Mixed-methods research: Analysing qualitative in R</a></li>
<li class="chapter" data-level="13" data-path="next-steps.html"><a href="next-steps.html"><i class="fa fa-check"></i><b>13</b> Where to go from here: The next steps in your R journey</a>
<ul>
<li class="chapter" data-level="13.1" data-path="next-steps.html"><a href="next-steps.html#next-steps-github"><i class="fa fa-check"></i><b>13.1</b> GitHub: A Gateway to even more ingenious R packages</a></li>
<li class="chapter" data-level="13.2" data-path="next-steps.html"><a href="next-steps.html#next-steps-books"><i class="fa fa-check"></i><b>13.2</b> Books to read and expand your knowledge</a></li>
<li class="chapter" data-level="13.3" data-path="next-steps.html"><a href="next-steps.html#next-steps-online-readings"><i class="fa fa-check"></i><b>13.3</b> Engage in regular online readings about R</a></li>
<li class="chapter" data-level="13.4" data-path="next-steps.html"><a href="next-steps.html#next-steps-twitter"><i class="fa fa-check"></i><b>13.4</b> Join the Twitter community and hone your skills</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="exercises-solutions.html"><a href="exercises-solutions.html"><i class="fa fa-check"></i><b>14</b> Exercises: Solutions</a>
<ul>
<li class="chapter" data-level="14.1" data-path="exercises-solutions.html"><a href="exercises-solutions.html#exercises-solutions-5"><i class="fa fa-check"></i><b>14.1</b> Solutions for @ref(exercises-chapter-5)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://twitter.com/daniel_dauber" target="blank">Find me on twitter!</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Non-Programmers: A Guide for Social Scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="descriptive-statistics" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Descriptive Statistics</h1>
<p>The best way to understand how participants in your study have responded to various questions or an experimental treatment is to use descriptive statistics. As the name indicates, their main purpose is to ‚Äòdescribe.‚Äô Most of the time we want to describe the composition of our sample and likely how the majority (or minority) of participants performed.</p>
<p>In contrast, we use ‚Äòinferential‚Äô statistics to make predictions about the future. In Social Sciences, we are often interested in predicting how people will behave in certain situations and scenarios. We aim to develop models that help us navigate the complexity of social interactions that we all engage in, but might not fully understand. We cover ‚Äòinferential statistics‚Äô in later chapters of this book.</p>
<p>In short, descriptive statistics are an essential component to understand your data. To some extend, one could argue that we were already describing our data when we performed various data wrangling tasks (see Chapter <a href="data-wrangling.html#data-wrangling">7</a>.</p>
<p>The following chapters focus on the most essential descriptive statistics, i.e.¬†the ones you likely want to investigate in 99 out of 100 research projects.</p>
<p>This book takes a ‚Äòvisualise first‚Äô approach to data analysis. Therefore, each section will start with data visualisations, followed by computing statistical output, and end with how we can report our results in publications of all kind. A key learning outcome of this chapter is to plot your data using the package <code>ggplot2</code> and to present characteristics of your data in different ways. Each chapter will ask questions about our dataset that we aim to answer. However, first we need to understand how to create plots in R.</p>
<div id="plotting-in-r-with-ggplot2" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Plotting in R with <code>ggplot2</code></h2>
<p>Plotting can appear intimidating at first, but is very easy and quick, once you understand the basics. The <code>ggplot2</code> package is a very popular package to generate plots in R and many other packages are built upon it. This makes it a very flexible tool to create almost any data visualisation you could think of. If you want to see what is possible with <code>ggplot2</code> you might want to consider looking at <a href="https://twitter.com/search?q=%23tidytuesday" target="blank" title="#tidytuesday">#tidytuesday</a> on Twitter where novices and veterans share their data visualisations on a weekly basis.</p>
<p>To generate any plot we need to at least define three components:</p>
<ul>
<li><p>a dataset,</p></li>
<li><p>variables we want to plot, and</p></li>
<li><p>how we want to plot them, e.g.¬†as lines, bars, points, etc.</p></li>
</ul>
<p>Admittedly, this is a harsh oversimplification, but it will serve as a useful guide to get us started. The function <code>ggplot()</code> is the one responsible to create any type of data visualisation. The generic structure of a <code>ggplot()</code> looks like this:</p>
<pre id="basic_ggplot_structure"><code>ggplot(data, aes(x = variable_01, y = variable_02))</code></pre>
<p>In other words, we first need to provide the dataset <code>data</code>, and then the aesthetics (<code>aes()</code>). Think of <code>aes()</code> as the place where we define our variables (i.e.¬†<code>x</code> and <code>y</code>). For example, we might be interested to know which movie genre is the most popular among the top 250 IMDb movies. The dataset <code>imdb_top_250</code> from the <code>r4np</code> package allows us to find an answer to this question. Therefore we define the components of the plot as follows:</p>
<ul>
<li><p>our data is <code>imdb_top_250</code>, and</p></li>
<li><p>our variable of interest is <code>genre_01</code></p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="descriptive-statistics.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(imdb_top_250, <span class="fu">aes</span>(<span class="at">x =</span> genre_01))</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Most%20popular%20genre%20incomplete%20plot-1.png" width="672" /></p>
<p>Running this line of code will produce an empty plot. We only get labels for our x-axis, since we defined it already. However, we have yet to tell <code>ggplot()</code> how we want to represent the data on this canvas. Your choice for how you want to plot your data is usually informed by the type of data you want to plot and the statistics you want to represent. For example trying to plot the mean of a factor is not useful, e.g.¬†computing the mean of movie genres. On the other hand, we can count how often certain genres appear in our dataset. One way of representing the count (or frequency) of a factor is to use a bar plot. In order to add an element to <code>ggplot()</code>, i.e.¬†bars, we use <code>+</code> and append the function <code>geom_bar()</code> which draws bars. The <code>+</code> operator works similar to <code>%&gt;%</code> and allows to chain multiple functions one after the other.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="descriptive-statistics.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(imdb_top_250, <span class="fu">aes</span>(<span class="at">x =</span> genre_01)) <span class="sc">+</span></span>
<span id="cb2-2"><a href="descriptive-statistics.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Most%20popular%20genre%20with%20barplot-1.png" width="672" /></p>
<p>This already looks great and we can see that <code>Drama</code> is by far the most popular genre, followed by <code>Action</code> and <code>Crime</code>. Thus, we successfully found an answer to our question. Still, there are more improvements necessary to use it in a publication.</p>
<p>We can use <code>+</code> to add other elements to our plot, such as a title and proper axes labels. Here are some common functions to further customise our plot:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="descriptive-statistics.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(imdb_top_250, <span class="fu">aes</span>(<span class="at">x =</span> genre_01)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="descriptive-statistics.html#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb3-3"><a href="descriptive-statistics.html#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Most popular movie genres&quot;</span>) <span class="sc">+</span>  <span class="co"># Add a title</span></span>
<span id="cb3-4"><a href="descriptive-statistics.html#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movie genre&quot;</span>) <span class="sc">+</span>                   <span class="co"># Rename x-axis</span></span>
<span id="cb3-5"><a href="descriptive-statistics.html#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;frequency&quot;</span>)                       <span class="co"># Rename y-axis</span></span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Most%20popular%20genre%20with%20barplot%20and%20extras-1.png" width="672" /></p>
<p>When working with factors, the category names can be rather long. In this plot, we also have lots of categories and the labels <code>Adventure</code>, <code>Animation</code> and <code>Biography</code> are a bit too close to each other for my taste. This might be a good opportunity to use <code>coord_flip()</code>, which rotates the entire plot by 90 degrees, i.e.¬†turning the x-axis into the y-axis and vice versa. This makes the label much easier to read.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="descriptive-statistics.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(imdb_top_250, <span class="fu">aes</span>(<span class="at">x =</span> genre_01)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="descriptive-statistics.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb4-3"><a href="descriptive-statistics.html#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Most popular movie genres&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-4"><a href="descriptive-statistics.html#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movie genre&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="descriptive-statistics.html#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb4-6"><a href="descriptive-statistics.html#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Most%20popular%20genre%20with%20barplot%20and%20extras%20and%20formatting-1.png" width="672" /></p>
<p>Our plot is almost perfect, but there is one more step we should take to make reading and understanding this plot even easier. At the moment, the bars are ordered alphabetically by movie genre. This is hardly ever a useful way to order your data. Instead, we might want to sort the data by the frequency, showing the most popular genre at the top. We could either sort the movies by hand or slightly amend what we have coded so far.</p>
<p>The problem you encounter when rearranging a <code>geom_bar()</code> with only one variable is that we do not have an explicit value we can use to indicate how we want to sort the bars. Our current code is based on the fact that <code>ggplot</code> does the counting for us. So, instead we need to do two things:</p>
<ul>
<li><p>create a table with all genres and their frequency, and</p></li>
<li><p>use this table to plot the genres by the frequency we computed</p></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="descriptive-statistics.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: The frequency table only</span></span>
<span id="cb5-2"><a href="descriptive-statistics.html#cb5-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="descriptive-statistics.html#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(genre_01)</span></code></pre></div>
<pre><code>## # A tibble: 11 √ó 2
##    genre_01      n
##    &lt;fct&gt;     &lt;int&gt;
##  1 Action       40
##  2 Adventure    20
##  3 Animation    24
##  4 Biography    22
##  5 Comedy       23
##  6 Crime        38
##  7 Drama        72
##  8 Film-Noir     1
##  9 Horror        3
## 10 Mystery       4
## 11 Western       3</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="descriptive-statistics.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Plotting a barplot based on the frequency table</span></span>
<span id="cb7-2"><a href="descriptive-statistics.html#cb7-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="descriptive-statistics.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(genre_01) <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="descriptive-statistics.html#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> genre_01, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb7-5"><a href="descriptive-statistics.html#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span>                             <span class="co"># Use geom_col() instead of geom_bar()</span></span>
<span id="cb7-6"><a href="descriptive-statistics.html#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Most popular movie genres&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-7"><a href="descriptive-statistics.html#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movie genre&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-8"><a href="descriptive-statistics.html#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb7-9"><a href="descriptive-statistics.html#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Most%20popular%20genre%20with%20barplot%20and%20extras%20step-by-step-1.png" width="672" /></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="descriptive-statistics.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Step 3: Sort the plot by frequency, i.e. by &#39;n&#39;</span></span>
<span id="cb8-2"><a href="descriptive-statistics.html#cb8-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="descriptive-statistics.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(genre_01) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="descriptive-statistics.html#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(genre_01, n), <span class="at">y =</span> n)) <span class="sc">+</span>    <span class="co"># Use &#39;reorder()&#39;</span></span>
<span id="cb8-5"><a href="descriptive-statistics.html#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb8-6"><a href="descriptive-statistics.html#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Most popular movie genres&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-7"><a href="descriptive-statistics.html#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movie genre&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-8"><a href="descriptive-statistics.html#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;frequency&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-9"><a href="descriptive-statistics.html#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Most%20popular%20genre%20with%20barplot%20and%20extras%20step-by-step-2.png" width="672" /></p>
<p>Step 3 is the only code you need to create the desired plot. The two other steps are a mean to demonstrate how one can slowly built up this plot, step-by-step. You might have noticed that I used <code>dplyr</code> to chain all these functions together and therefore it was not necessary to specify the dataset in <code>ggplot()</code>.</p>
<p>There are also two new functions we had to use: <code>geom_col()</code> and <code>reorder()</code>. The functions <code>geom_col()</code> and <code>geom_bar()</code> can be confusing. The easiest way to remember how to use them is: If you use a frequency table to create your barplot, use <code>geom_col</code>, if not, use <code>geom_bar()</code>. The function <code>geom_col()</code> requires that we specify a y-axis (our frequency scores), while <code>geom_bar()</code> does not.</p>
<p>In many cases, when creating plots you have to perform two steps:</p>
<ul>
<li><p>generate the statistics you want to plot, e.g.¬†a frequency table, and</p></li>
<li><p>plot the data via <code>ggplot()</code></p></li>
</ul>
<p>Now you have learned the fundamentals of plotting in R. Throughout the next chapters we will create a lot more plots. They all share the same basic structure, but we will use different ‚Äògeoms‚Äô to describe our data. By the end of this book, you will have accrued enough experience in plotting in R that it will feel like second nature. If you want to deepen your knowledge of <code>ggplot</code>, you should take a look at the book <a href="https://ggplot2-book.org" target="blank" title="&#39;ggplot: Elegant Graphics for Data Analysis&#39;">‚Äòggplot: Elegant Graphics for Data Analysis‚Äô</a> or ‚ÄòR Graphics Cookbook‚Äô which moves beyond ggplots.</p>
</div>
<div id="central-tendency" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Central tendency measures: Mean, Median, Mode</h2>
<p>The mean, median and mode (the 3 Ms), are all measures of central tendency, i.e.¬†they provide insights into how our data is distributed. All three of these measures summarise our data/variable by a single score which can be helpful, but sometimes also terribly misleading.</p>
<div id="mean" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Mean</h3>
<p>The mean is likely the most known descriptive statistics and, at the same time, a very powerful and influential one. For example, the average ratings of restaurants on Google might influence our decision on where to eat out. Similarly, we might consider the average rating of movies to decide which one to watch in cinema with friends. What we casually refer to as the ‚Äòaverage‚Äô is equivalent to the ‚Äòmean.‚Äô</p>
<p>In R it is simple to compute the mean using the function <code>mean()</code>. We used this function in Chapter <a href="r-basics-the-very-fundamentals.html#functions">5.3</a> and Chapter <a href="data-wrangling.html#latent-constructs">7.7</a> already. However, we have not looked at how we can plot the mean.</p>
<p>Assume, we are curious to know how successful movies are in each of the genres. The mean could be a good starting point to answer this question, because it provides the ‚Äòaverage‚Äô success of movies in a genre. The simplest approach to investigate this is to use a bar plot, like in Chapter <a href="descriptive-statistics.html#plotting-in-r-with-ggplot2">8.1</a>. We first create a tibble that contains the means of <code>gross_in_m</code> for each genre in <code>genre_01</code>. Then we use this table to plot a bar plot with <code>geom_col()</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="descriptive-statistics.html#cb9-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="descriptive-statistics.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Group data by genre</span></span>
<span id="cb9-3"><a href="descriptive-statistics.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(genre_01) <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="descriptive-statistics.html#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute the mean for each group (remove NAs via na.rm = TRUE)</span></span>
<span id="cb9-5"><a href="descriptive-statistics.html#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_earnings_in_m =</span> <span class="fu">mean</span>(gross_in_m, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="descriptive-statistics.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb9-7"><a href="descriptive-statistics.html#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> genre_01, <span class="at">y =</span> mean_earnings_in_m)) <span class="sc">+</span></span>
<span id="cb9-8"><a href="descriptive-statistics.html#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb9-9"><a href="descriptive-statistics.html#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Plotting%20the%20mean%20of%20movie%20genre%20earnings-1.png" width="672" /></p>
<p>It appears as if <code>Action</code> and <code>Animation</code> are far ahead of the rest. On average, both make around 200 million per movie. <code>Adventure</code> ranks third with only around 70 million. We can retrieve the exact earnings by removing the plot from the above code.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="descriptive-statistics.html#cb10-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="descriptive-statistics.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(genre_01) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="descriptive-statistics.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_earnings_in_m =</span> <span class="fu">mean</span>(gross_in_m, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="descriptive-statistics.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_earnings_in_m))</span></code></pre></div>
<pre><code>## # A tibble: 11 √ó 2
##    genre_01  mean_earnings_in_m
##    &lt;fct&gt;                  &lt;dbl&gt;
##  1 Action                203.  
##  2 Animation             189.  
##  3 Adventure              73.9 
##  4 Biography              57.9 
##  5 Drama                  52.9 
##  6 Crime                  49.6 
##  7 Mystery                48.4 
##  8 Horror                 41.6 
##  9 Comedy                 33.2 
## 10 Western                 8.81
## 11 Film-Noir               0.45</code></pre>
<p>In the last line I used a new function called <code>arrange()</code>. It allows us to sort rows in our dataset by a specified variable (i.e.¬†a column). By default, <code>arrange()</code> sorts values in ascending order, which would put the top genre last. Therefore, we have to use another function to change the order to descending with <code>desc()</code>. Now the top genre is listed at the top.</p>
<p>Based on this result we might believe that <code>Action</code> and <code>Animation</code> movies are the most successful genres. However, we have not taken into account how many movies there are in each genre. Consider the following example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="descriptive-statistics.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assume there are 2 Action movies in the top 250</span></span>
<span id="cb12-2"><a href="descriptive-statistics.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">203</span></span></code></pre></div>
<pre><code>## [1] 406</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="descriptive-statistics.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assume there are 10 Drama movies in the top 250</span></span>
<span id="cb14-2"><a href="descriptive-statistics.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">*</span> <span class="dv">53</span></span></code></pre></div>
<pre><code>## [1] 530</code></pre>
<p>Thus, the ‚Äòmean‚Äô alone might not be a sufficient indicator. It can tells us which genre is most successful based on a single movie, but we also should consider how many movies there are in each genre.</p>
<p>Let‚Äôs add the number of movies (<code>n)</code> in each genre to our table.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="descriptive-statistics.html#cb16-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="descriptive-statistics.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(genre_01) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="descriptive-statistics.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_earnings_in_m =</span> <span class="fu">mean</span>(gross_in_m, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-4"><a href="descriptive-statistics.html#cb16-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb16-5"><a href="descriptive-statistics.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(mean_earnings_in_m))</span></code></pre></div>
<pre><code>## # A tibble: 11 √ó 3
##    genre_01  mean_earnings_in_m     n
##    &lt;fct&gt;                  &lt;dbl&gt; &lt;int&gt;
##  1 Action                203.      40
##  2 Animation             189.      24
##  3 Adventure              73.9     20
##  4 Biography              57.9     22
##  5 Drama                  52.9     72
##  6 Crime                  49.6     38
##  7 Mystery                48.4      4
##  8 Horror                 41.6      3
##  9 Comedy                 33.2     23
## 10 Western                 8.81     3
## 11 Film-Noir               0.45     1</code></pre>
<p>Our interpretation might slighlty change based on these findings. There are considerably more movies in the genre <code>Drama</code> then in <code>Action</code> or <code>Animation</code>. We already plotted the frequency of movies per genre in Chapter <a href="descriptive-statistics.html#plotting-in-r-with-ggplot2">8.1</a>. Accordingly, we would have to think that <code>Drama</code> turns out to be the most successful genre.</p>
<p>As a final step, we can plot the sum of all earnings per genre as yet another indicator for the ‚Äòmost successful genre.‚Äô</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="descriptive-statistics.html#cb18-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="descriptive-statistics.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(gross_in_m)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="descriptive-statistics.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(genre_01) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="descriptive-statistics.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">sum_gross_in_m =</span> <span class="fu">sum</span>(gross_in_m)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="descriptive-statistics.html#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> genre_01, <span class="at">y =</span> sum_gross_in_m)) <span class="sc">+</span></span>
<span id="cb18-6"><a href="descriptive-statistics.html#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb18-7"><a href="descriptive-statistics.html#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Compute%20sum%20of%20earnings%20per%20genre-1.png" width="672" /></p>
<p>Theses results confirm that the <code>Action</code> genre made the most money out of all genres covered by the top 250 IMDb movies. I am sure you are curious to know which action movie contributed the most to this result. We can achieve this easily by using functions we already know.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="descriptive-statistics.html#cb19-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="descriptive-statistics.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, genre_01, gross_in_m) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="descriptive-statistics.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="descriptive-statistics.html#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gross_in_m)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-5"><a href="descriptive-statistics.html#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Selecting by gross_in_m</code></pre>
<pre><code>## # A tibble: 5 √ó 3
##   title                  genre_01 gross_in_m
##   &lt;chr&gt;                  &lt;fct&gt;         &lt;dbl&gt;
## 1 Avengers: Endgame      Action         858.
## 2 Avengers: Infinity War Action         679.
## 3 The Dark Knight        Action         535.
## 4 The Dark Knight Rises  Action         448.
## 5 Jurassic Park          Action         402.</code></pre>
<p><code>Avengers: Endgame</code> and <code>Avengers: Infinity</code> war rank the highest out of all Action movies. Two amazing movies if you are into Marvel comics.</p>
<p>In the last line I sneaked in another new function from <code>dplyr</code> called <code>top_n()</code>. This function allows us to pick any given number of rows from the top. If you have many rows in your dataset (remember there are 40 action movies), you might want to be ‚Äòpicky‚Äô and report only the top 3, 4 or 5.</p>
<p>In conclusion, the mean is helpful in understanding how each individual movie on average performed across different genres. However, the mean alone provides a rather incomplete picture. Thus, we need always look at means in context of other information we have to gain a more comprehensive insight into our data.</p>
</div>
<div id="median" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> Median</h3>
<p>The ‚Äòmedian‚Äô is the little, lesser known and used brother of the ‚Äòmean.‚Äô However, it can be a very powerful indicator for central tendency, because it is not so much affected by outliers. With outliers I mean observations that lie way beyond or below the average observation in our dataset. Let‚Äôs inspect the <code>Action</code> genre more closely and see how each movie in this category performed relative to each other. We first <code>filter()</code> our dataset to only show movies in the genre <code>Action</code> and also remove responses that have no value for <code>gross_in_m</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="descriptive-statistics.html#cb22-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="descriptive-statistics.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(gross_in_m)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="descriptive-statistics.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(title, gross_in_m), <span class="at">y =</span> gross_in_m)) <span class="sc">+</span> </span>
<span id="cb22-4"><a href="descriptive-statistics.html#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb22-5"><a href="descriptive-statistics.html#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Earnings%20of%20action%20movies%20barplot-1.png" width="672" /></p>
<p><code>Avengers: Endgame</code> and <code>Avengers: Infinity War</code> are far ahead of any other movie. We can compute the mean with and without these two movies.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="descriptive-statistics.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean earnings for Action genre with Avengers movies</span></span>
<span id="cb23-2"><a href="descriptive-statistics.html#cb23-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="descriptive-statistics.html#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="descriptive-statistics.html#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(gross_in_m, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 √ó 1
##    mean
##   &lt;dbl&gt;
## 1  203.</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="descriptive-statistics.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean earnings for Action genre with Avengers movies</span></span>
<span id="cb25-2"><a href="descriptive-statistics.html#cb25-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="descriptive-statistics.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span> <span class="sc">&amp;</span></span>
<span id="cb25-4"><a href="descriptive-statistics.html#cb25-4" aria-hidden="true" tabindex="-1"></a>           title <span class="sc">!=</span> <span class="st">&quot;Avengers: Endgame&quot;</span> <span class="sc">&amp;</span></span>
<span id="cb25-5"><a href="descriptive-statistics.html#cb25-5" aria-hidden="true" tabindex="-1"></a>           title <span class="sc">!=</span> <span class="st">&quot;Avengers: Infinity War&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-6"><a href="descriptive-statistics.html#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(gross_in_m, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 √ó 1
##    mean
##   &lt;dbl&gt;
## 1  170.</code></pre>
<p>The result is striking. Without these two movies, the <code>Action</code> genre would have less earning per movie than the <code>Animiation</code> genre. However, if we computed the median instead, we would not notice such a huge difference in results. This is due to the fact that the median sorts a dataset, e.g.¬†by <code>gross_in_m</code> and then picks the value that would cut the data into two equally large halves. It does not matter which value is the highest or lowest in our dataset, what matters is the value that is ranked right in the middle of all values.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="descriptive-statistics.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Median earnings for Action genre with Avengers movies</span></span>
<span id="cb27-2"><a href="descriptive-statistics.html#cb27-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="descriptive-statistics.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb27-4"><a href="descriptive-statistics.html#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">median =</span> <span class="fu">median</span>(gross_in_m, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 √ó 1
##   median
##    &lt;dbl&gt;
## 1   180.</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="descriptive-statistics.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Median earnings for Action genre with Avengers movies</span></span>
<span id="cb29-2"><a href="descriptive-statistics.html#cb29-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb29-3"><a href="descriptive-statistics.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span> <span class="sc">&amp;</span></span>
<span id="cb29-4"><a href="descriptive-statistics.html#cb29-4" aria-hidden="true" tabindex="-1"></a>           title <span class="sc">!=</span> <span class="st">&quot;Avengers: Endgame&quot;</span> <span class="sc">&amp;</span></span>
<span id="cb29-5"><a href="descriptive-statistics.html#cb29-5" aria-hidden="true" tabindex="-1"></a>           title <span class="sc">!=</span> <span class="st">&quot;Avengers: Infinity War&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-6"><a href="descriptive-statistics.html#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">median =</span> <span class="fu">median</span>(gross_in_m, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 √ó 1
##   median
##    &lt;dbl&gt;
## 1   163.</code></pre>
<p>Both medians are much closer to each other, showing how much better suited the median is in our case. In general, when we report means, it is advisable to report the median as well. If a mean and median differ substantially, it could mean your data ‚Äòsuffers‚Äô from outliers. So we have to detect them and think about whether we should remove them for further analysis.</p>
<p>We can visualise medians using boxplots. Boxplots are a very effective tool to show how your data is distributed in one single data visualisation and it shows more than just the mean. It also shows the spread of your data (see Chapter @ref()).</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="descriptive-statistics.html#cb31-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="descriptive-statistics.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(gross_in_m)) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="descriptive-statistics.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gross_in_m)) <span class="sc">+</span> </span>
<span id="cb31-4"><a href="descriptive-statistics.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Boxplot%20for%20action%20movies-1.png" width="672" /></p>
<p>To interpret this boxplot consider the Figure <a href="#fig:"><strong>??</strong></a>.</p>
<p><code>[insert boxplot explanation figure here]</code></p>
<p>The boxplot shows that we have apparently one observation that is an outlier, which is likely <code>Avengers: Endgame</code>, but what happened to the over Avengers movie? Is it no an outlier too? It seems we need some more information. We can overlay another <code>geom_</code> on top to visualise where exactly each movie lies on this boxplot. We can represent each movie as a point by using <code>geom_point()</code>. This function requires us to define the values for the x and y axis. Here it makes sense to set <code>y = 0</code> which aligns all the dots in the middle of the boxplot.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="descriptive-statistics.html#cb32-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="descriptive-statistics.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(gross_in_m)) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="descriptive-statistics.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gross_in_m)) <span class="sc">+</span> </span>
<span id="cb32-4"><a href="descriptive-statistics.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb32-5"><a href="descriptive-statistics.html#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="dv">0</span>, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Boxplot%20plus%20geom_point%20for%20action%20movies-1.png" width="672" /></p>
<p>To make the dots stand out more I changed the colour to <code>"red"</code>. By adding the <code>colour</code> (<code>color</code> also works) attribute ggplot would automatically generate a legend. Since we do not need it we can specify it directly in the <code>geom_point()</code> function. If you prefer the legend, just remove <code>show.legend = FALSE</code>.</p>
<p>The two dots on the right are the two Avengers movies. This plot also nicely demonstrates why boxplots are so popular and helpful: They provide so many insights, not only into the central tendency of a variable, but also highlights outliers and, more generally, gives a sense of the spread of our data (more about this in Chapter @ref()).</p>
<p>The median is an important descriptive and diagnostic statistic and should be included in most empirical quantitative studies.</p>
</div>
<div id="mode" class="section level3" number="8.2.3">
<h3><span class="header-section-number">8.2.3</span> Mode</h3>
<p>Finally, the ‚Äòmode,‚Äô indicates which value is the most frequently occurring value for a certain variable. For example, we might be interested in knowing which IMDb rating was most frequently awarded to the top 250 movies.</p>
<p>When trying to compute the mode in R, we quickly run into a problem, because there is no function available to do this straight away unless you search for a package that does it for you. However, before you start searching, let‚Äôs reflect on what the mode does and why we can find out the mode without additional packages or functions. The mode is based on the frequency of the occurrence of a value. Thus, the most frequently occurring value would be the one that is listed at the top of a frequency table. We have already created several frequency tables in this book and we can create another one to find the answer to our question.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="descriptive-statistics.html#cb33-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> <span class="fu">count</span>(imdb_rating)</span></code></pre></div>
<pre><code>## # A tibble: 12 √ó 2
##    imdb_rating     n
##          &lt;dbl&gt; &lt;int&gt;
##  1         8.1    80
##  2         8.2    45
##  3         8.3    42
##  4         8.4    29
##  5         8.5    22
##  6         8.6    14
##  7         8.7     5
##  8         8.8     5
##  9         8.9     3
## 10         9       3
## 11         9.2     1
## 12         9.3     1</code></pre>
<p>We can also easily visualise this frequency table in the same way as before. In order to make the plot a bit more ‚Äòfancy,‚Äô we can add labels to the bar which reflect the frequency of the rating. We need to add the attribute <code>label</code> and also add a <code>geom_text()</code> layer to display them. Because the numbers would overlap with the bars, I ‚Äònudge‚Äô the labels up by <code>4</code> units on the y axis.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="descriptive-statistics.html#cb35-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="descriptive-statistics.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(imdb_rating) <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="descriptive-statistics.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(imdb_rating, n, <span class="at">label =</span> n)) <span class="sc">+</span></span>
<span id="cb35-4"><a href="descriptive-statistics.html#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb35-5"><a href="descriptive-statistics.html#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">nudge_y =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/The%20mode%20visualised%20as%20a%20frequency%20table-1.png" width="672" /></p>
<p>The frequency table and the plot reveal that the mode for <code>imdb_rating</code> is <code>8.1</code>. In addition, we also get to know how often this rating was applied, i.e.¬†<code>80</code> times. This provides much more information then receiving a single score and helps to better interpret the importance of the mode as an indicator for central tendency. Consequently, there is generally no need to compute the mode if you can have a frequency table instead. Still, if you are keen to have a function that computes the mode, you will have to write your own function, e.g.¬†as shown in this post on <a href="https://stackoverflow.com/questions/2547402/how-to-find-the-statistical-mode" target="blank" title="stackeroverflow.com">stackeroverflow.com</a> or search for a package that coded one already.</p>
<p>As a final remark, it is also possible that you can find two or more modes in your data. For example, if the rating <code>8.1</code> appears <code>80</code> times and the rating <code>9.0</code> appears <code>80</code> times, both would be considered to a mode.</p>
</div>
</div>
<div id="spread-of-data" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Indicators and visualisations to examine the spread of data</h2>
<p>Understanding how your data is spread out is important to get a better sense of what your data is composed of. We already touched upon the notion of spread in Chapter <a href="descriptive-statistics.html#median">8.2.2</a> through plotting a boxplot. The spread of data provides insights into how homogeneous or heterogeneous the responses of our participants are. In the following we will cover some essential techniques to investigate the spread of your data and investigate whether our variables are normally distributed, which is often an important assumption for certain analytical techniques. In addition, we will aim to identify outliers which could be detrimental to subsequent analysis and significantly affect our modelling and testing in later stages.</p>
<div id="boxplot-so-much-information-in-just-one-box" class="section level4" number="8.3.0.1">
<h4><span class="header-section-number">8.3.0.1</span> Boxplot: So much information in just one box</h4>
<p>The boxplot is a staple in visualising descriptive statistics. If offers so much information in just a single plot that it might not take much to convince you that it has become a very popular way to show the spread of data.</p>
<p>For example, we might be interested to know how long most movies run. Our gut feeling might tell us that most movies are probably around 2 hours long. One approach to find out is a boxplot, which we used before.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="descriptive-statistics.html#cb36-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="descriptive-statistics.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb36-3"><a href="descriptive-statistics.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb36-4"><a href="descriptive-statistics.html#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>,</span>
<span id="cb36-5"><a href="descriptive-statistics.html#cb36-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Gangs of Wasseypur </span><span class="sc">\n</span><span class="st"> (321 min)&quot;</span>,</span>
<span id="cb36-6"><a href="descriptive-statistics.html#cb36-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">310</span>,</span>
<span id="cb36-7"><a href="descriptive-statistics.html#cb36-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="fl">0.05</span>,</span>
<span id="cb36-8"><a href="descriptive-statistics.html#cb36-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb36-9"><a href="descriptive-statistics.html#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>,</span>
<span id="cb36-10"><a href="descriptive-statistics.html#cb36-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Sherlock Jr. </span><span class="sc">\n</span><span class="st"> (45 min)&quot;</span>,</span>
<span id="cb36-11"><a href="descriptive-statistics.html#cb36-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">45</span>,</span>
<span id="cb36-12"><a href="descriptive-statistics.html#cb36-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="fl">0.05</span>,</span>
<span id="cb36-13"><a href="descriptive-statistics.html#cb36-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="fl">2.5</span>)</span></code></pre></div>
<div class="figure"><span id="fig:a-boxplot"></span>
<img src="r_for_non_programmers_files/figure-html/a-boxplot-1.png" alt="A boxplot" width="672" />
<p class="caption">
Figure 8.1: A boxplot
</p>
</div>
<p>The results indicate that most movies are between 100 to 150 minutes long. Our intuition was right. We find that one movie is even over 300 minutes long, i.e.¬†over 5 hours: ‚ÄòGangs of Wasseypur.‚Äô In contrast, the shortest movie only lasts 45 minutes and is called ‚ÄòSherlock Jr.‚Äô I added annotations using <code>annotate()</code> to highlight these two movies in the plot. Both movies would also count as outliers in our dataset (see Chapter <a href="descriptive-statistics.html#outliers-iqr">8.3.3.2</a>.</p>
</div>
<div id="histogram-do-not-mistake-it-as-a-bar-plot" class="section level4" number="8.3.0.2">
<h4><span class="header-section-number">8.3.0.2</span> Histogram: Do not mistake it as a bar plot</h4>
<p>Another frequently used approach to show the spread (or distribution) of data is the histogram. The histogram easily gets confused with a bar plot. However, you would be very mistaken to assume that they are the same. Some key differences between these two types of plots is summarised in Table <a href="descriptive-statistics.html#tab:histogram-vs-bar-plot">8.1</a>.</p>
<table>
<caption><span id="tab:histogram-vs-bar-plot">Table 8.1: </span> Histogram vs bar plot</caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Histogram</th>
<th>Bar plot</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Used to show the distribution of non-categorical data</td>
<td>Used for showing the frequency of categorical data, i.e.¬†<code>factor</code>s</td>
</tr>
<tr class="even">
<td>Each bar (also called ‚Äòbin‚Äô) represents a group of observations.</td>
<td>Each bar represents one category (or level) in our <code>factor</code>.</td>
</tr>
<tr class="odd">
<td>The order of the bars is important and cannot/should not be changed.</td>
<td>The order of bars is arbitrary and can be reordered if meaningful.</td>
</tr>
</tbody>
</table>
<p>To make this difference even clearer, let‚Äôs overlap a bar plot with a histogram for the same variable.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="descriptive-statistics.html#cb37-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="descriptive-statistics.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="descriptive-statistics.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb37-4"><a href="descriptive-statistics.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="r_for_non_programmers_files/figure-html/Compare%20histogram%20with%20bar%20plot-1.png" width="672" /></p>
<p>There are a couple of important observations to be made:</p>
<ul>
<li><p>The bar plot has much shorter bars, because each bar represents the frequency of a single unique score. Thus, the runtime of 151 is represented as a bar as is the runtime of 152. Only identical observations are grouped together. As such, the bar plot is based on a frequency table, similar to what we computed before.</p></li>
<li><p>In contrast, the histogram‚Äôs ‚Äòbars‚Äô are higher because they group together individual observations based on a specified range, e.g.¬†one bar might represent movies that have a runtime between 150-170 minutes. These ranges are commonly called <code>bins</code>.</p></li>
</ul>
<p>We can control the number of bars in our histogram using the <code>bins</code> attribute. <code>ggplot</code> even reminds us in a warning that we should adjust it to represent more details in the plot. Let‚Äôs experiment with this setting to see how it would look like with different numbers of <code>bins</code>.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="descriptive-statistics.html#cb39-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="descriptive-statistics.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb39-3"><a href="descriptive-statistics.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb39-4"><a href="descriptive-statistics.html#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="descriptive-statistics.html#cb40-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="descriptive-statistics.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="descriptive-statistics.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb40-4"><a href="descriptive-statistics.html#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="descriptive-statistics.html#cb41-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="descriptive-statistics.html#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="descriptive-statistics.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">60</span>) <span class="sc">+</span></span>
<span id="cb41-4"><a href="descriptive-statistics.html#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="descriptive-statistics.html#cb42-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="descriptive-statistics.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb42-3"><a href="descriptive-statistics.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">300</span>) <span class="sc">+</span></span>
<span id="cb42-4"><a href="descriptive-statistics.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Histogram%20with%20different%20bins%20output-1.png" width="672" /></p>
<p>As becomes obvious, if we select a large enough number of bins, we can achieve the same result as a bar plot. This is the closest a bar plot can become to a histogram, i.e.¬†if you define the number of <code>bins</code> in such a way that each observation is captured by one <code>bin</code>. While theoretically possible, practically this rarely makes much sense.</p>
<p>We use histograms to judge whether our data is normally distributed. A normal distribution is often a requirement for assessing whether we can run certain types of analyses or not. In short: It is very important to know about it in advance. The shape of a normal distribution looks like a bell (see Figure <a href="descriptive-statistics.html#fig:normal-distribution">8.2</a>). If our data is equal to a normal distribution we find that</p>
<ul>
<li><p>the mean and the median are the same value, and can conclude that</p></li>
<li><p>the mean is a good representation for our data/variable.</p></li>
</ul>
<div class="figure"><span id="fig:normal-distribution"></span>
<img src="r_for_non_programmers_files/figure-html/normal-distribution-1.png" alt="A normal distribution" width="672" />
<p class="caption">
Figure 8.2: A normal distribution
</p>
</div>
<p>Let‚Äôs see whether our data is normally distributed using the histogram we already plotted and overlay a normal distribution. The coding for the normal distribution is a little more advanced. Do not worry if you cannot fully decipher its meaning just yet. To draw such a reference plot we need to:</p>
<ul>
<li><p>compute the <code>mean()</code> of our variable,</p></li>
<li><p>compute the standard deviation <code>sd()</code> of our variable (see Chapter <a href="descriptive-statistics.html#standard-deviation">8.3.2</a>,</p></li>
<li><p>use the function <code>geom_func()</code> to plot it and,</p></li>
<li><p>define the function <code>fun</code> as <code>dnorm</code>, which stands for ‚Äònormal distribution.‚Äô</p></li>
</ul>
<p>More important than understanding how the computational side works, is the aim of this task: we try to compare our distribution with a normal one.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="descriptive-statistics.html#cb43-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="descriptive-statistics.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb43-3"><a href="descriptive-statistics.html#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb43-4"><a href="descriptive-statistics.html#cb43-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-5"><a href="descriptive-statistics.html#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This part creates a normal curve based on the mean</span></span>
<span id="cb43-6"><a href="descriptive-statistics.html#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and standard deviation of our data</span></span>
<span id="cb43-7"><a href="descriptive-statistics.html#cb43-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-8"><a href="descriptive-statistics.html#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dnorm,</span>
<span id="cb43-9"><a href="descriptive-statistics.html#cb43-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">n =</span> <span class="dv">103</span>,</span>
<span id="cb43-10"><a href="descriptive-statistics.html#cb43-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="fu">mean</span>(imdb_top_250<span class="sc">$</span>runtime_min),</span>
<span id="cb43-11"><a href="descriptive-statistics.html#cb43-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">sd =</span> <span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)),</span>
<span id="cb43-12"><a href="descriptive-statistics.html#cb43-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Compare%20normal%20distribution%20to%20our%20distribution-1.png" width="672" /></p>
<p>However, there are two problems if we use histograms in combination with a normal distribution reference plot: First, the y axis needs to be transformed to fit the normal distribution (which is a density plot and not a histogram). Second, the shape of our histogram is affected by the number of <code>bins</code> we have chosen, which is an arbitrary choice we make. Besides, the lines of code might be tough to understand, because we have to ‚Äòhack‚Äô the visualisation to make it work. There is, however, a better way to do this: Density plots.</p>
</div>
<div id="density-plots-your-smooth-histograms" class="section level4" number="8.3.0.3">
<h4><span class="header-section-number">8.3.0.3</span> Density plots: Your smooth histograms</h4>
<p>Density plots are a special form of the histogram. It uses ‚Äòkernel smoothing,‚Äô which turns our blocks into a smoother shape. Better than trying to explain what it does, it might help to see it. We use the same data but replace <code>geom_histogram()</code> with <code>geom_density()</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="descriptive-statistics.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ingredients for our normality reference plot</span></span>
<span id="cb44-2"><a href="descriptive-statistics.html#cb44-2" aria-hidden="true" tabindex="-1"></a>mean_ref <span class="ot">&lt;-</span> <span class="fu">mean</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb44-3"><a href="descriptive-statistics.html#cb44-3" aria-hidden="true" tabindex="-1"></a>sd_ref <span class="ot">&lt;-</span> <span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb44-4"><a href="descriptive-statistics.html#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="descriptive-statistics.html#cb44-5" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="descriptive-statistics.html#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb44-7"><a href="descriptive-statistics.html#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb44-8"><a href="descriptive-statistics.html#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dnorm,</span>
<span id="cb44-9"><a href="descriptive-statistics.html#cb44-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">n =</span> <span class="dv">103</span>,</span>
<span id="cb44-10"><a href="descriptive-statistics.html#cb44-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> mean_ref,</span>
<span id="cb44-11"><a href="descriptive-statistics.html#cb44-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">sd =</span> sd_ref),</span>
<span id="cb44-12"><a href="descriptive-statistics.html#cb44-12" aria-hidden="true" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:density-vs-normal"></span>
<img src="r_for_non_programmers_files/figure-html/density-vs-normal-1.png" alt="Density plot vs normal distribution" width="672" />
<p class="caption">
Figure 8.3: Density plot vs normal distribution
</p>
</div>
<p>For density plots we can aslo define how big the <code>bins</code> are which make the plot more or less smooth. After all, the density plot is a histogram, but the transitions from one bin to the next are ‚Äòsmoothed.‚Äô Here is an example of how different <code>bw</code> settings affect the plot.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="descriptive-statistics.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ingredients for our normality reference plot</span></span>
<span id="cb45-2"><a href="descriptive-statistics.html#cb45-2" aria-hidden="true" tabindex="-1"></a>mean_ref <span class="ot">&lt;-</span> <span class="fu">mean</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb45-3"><a href="descriptive-statistics.html#cb45-3" aria-hidden="true" tabindex="-1"></a>sd_ref <span class="ot">&lt;-</span> <span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb45-4"><a href="descriptive-statistics.html#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="descriptive-statistics.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="co"># bw = 18</span></span>
<span id="cb45-6"><a href="descriptive-statistics.html#cb45-6" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb45-7"><a href="descriptive-statistics.html#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb45-8"><a href="descriptive-statistics.html#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">bw=</span><span class="dv">18</span>) <span class="sc">+</span></span>
<span id="cb45-9"><a href="descriptive-statistics.html#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dnorm,</span>
<span id="cb45-10"><a href="descriptive-statistics.html#cb45-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">n =</span> <span class="dv">103</span>,</span>
<span id="cb45-11"><a href="descriptive-statistics.html#cb45-11" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> mean_ref,</span>
<span id="cb45-12"><a href="descriptive-statistics.html#cb45-12" aria-hidden="true" tabindex="-1"></a>                            <span class="at">sd =</span> sd_ref),</span>
<span id="cb45-13"><a href="descriptive-statistics.html#cb45-13" aria-hidden="true" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb45-14"><a href="descriptive-statistics.html#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;bw = 18&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Density%20plot%20vs%20normal%20distribution%20with%20different%20bw%20settings-1.png" width="672" /></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="descriptive-statistics.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bw = 3</span></span>
<span id="cb46-2"><a href="descriptive-statistics.html#cb46-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="descriptive-statistics.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(runtime_min)) <span class="sc">+</span></span>
<span id="cb46-4"><a href="descriptive-statistics.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">bw=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb46-5"><a href="descriptive-statistics.html#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dnorm,</span>
<span id="cb46-6"><a href="descriptive-statistics.html#cb46-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">n =</span> <span class="dv">103</span>,</span>
<span id="cb46-7"><a href="descriptive-statistics.html#cb46-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">args =</span> <span class="fu">list</span>(<span class="at">mean =</span> mean_ref,</span>
<span id="cb46-8"><a href="descriptive-statistics.html#cb46-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">sd =</span> sd_ref),</span>
<span id="cb46-9"><a href="descriptive-statistics.html#cb46-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb46-10"><a href="descriptive-statistics.html#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="st">&quot;bw = 18&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Density%20plot%20vs%20normal%20distribution%20with%20different%20bw%20settings-2.png" width="672" /></p>
<p><img src="r_for_non_programmers_files/figure-html/Illustration%20of%20different%20bw%20settings%20using%20patchwork%20to%20stich%20together-1.png" width="672" /></p>
<p>The benefits of the density plot in this situation are obvious: It is much easier to see whether our data is normally distributed or not when compared to a reference plot. However, we still might struggle to determine normality just by these plots, because it depends on how high or low we set <code>bw</code>.</p>
<p>Luckily, there is also a statistical method to test whether our data is normally distributed: The Shapiro-Wilk test. This test compares our distribution with a normal distribution (like in our plot) and tells us whether our distribution is <strong>significantly different</strong> from it. Thus, if the test is not significant the distribution of our data is not significantly different from a normal distribution, or in simple terms: It is normally distributed. We can run the test in R as follows:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="descriptive-statistics.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  imdb_top_250$runtime_min
## W = 0.92436, p-value = 5.544e-10</code></pre>
<p>According to this result, we have to accept that our data is not normally distributed, because it is significantly different from it (p&lt;0.05). We look at significance and its meaning more thoroughly in the next chapter (Chapter <a href="correlations.html#correlations">9</a>).</p>
</div>
<div id="violin-plot" class="section level4" number="8.3.0.4">
<h4><span class="header-section-number">8.3.0.4</span> Violin plot: Your smooth boxplot</h4>
<p>If a density plot is the sibling of a histogram, the violin plot would be the sibling of a boxplot, but the twin of a density plot. Confused? If so, then let‚Äôs use the function <code>geom_volin()</code> to create one.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="descriptive-statistics.html#cb49-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="descriptive-statistics.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> runtime_min, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb49-3"><a href="descriptive-statistics.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Violin%20plot-1.png" width="672" /></p>
<p>Looking at our plot it becomes evident where the violin plot got its name from, i.e.¬†its shape. The reason why it also a twin of the density plot becomes clear when we only plot half of the violin.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="descriptive-statistics.html#cb50-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span></span>
<span id="cb50-2"><a href="descriptive-statistics.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">y =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb50-3"><a href="descriptive-statistics.html#cb50-3" aria-hidden="true" tabindex="-1"></a>  see<span class="sc">::</span><span class="fu">geom_violinhalf</span>()<span class="sc">+</span></span>
<span id="cb50-4"><a href="descriptive-statistics.html#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<pre><code>## Registered S3 methods overwritten by &#39;parameters&#39;:
##   method                           from      
##   as.double.parameters_kurtosis    datawizard
##   as.double.parameters_skewness    datawizard
##   as.double.parameters_smoothness  datawizard
##   as.numeric.parameters_kurtosis   datawizard
##   as.numeric.parameters_skewness   datawizard
##   as.numeric.parameters_smoothness datawizard
##   print.parameters_distribution    datawizard
##   print.parameters_kurtosis        datawizard
##   print.parameters_skewness        datawizard
##   summary.parameters_kurtosis      datawizard
##   summary.parameters_skewness      datawizard</code></pre>
<p><img src="r_for_non_programmers_files/figure-html/Half%20violin%20plot-1.png" width="672" /></p>
<p>It looks exactly like the density plot we plotted earlier (see Figure <a href="descriptive-statistics.html#fig:density-vs-normal">8.3</a>. The interpretation largely remains the same to a density plot as well. The relationship between the boxplot and the violin plot lies in the symmetry of the violin plot.</p>
<p>At this point, it is fair to say that we enter ‚Äòfashion‚Äô territory. It is really up to your taste which visualisation you prefer, because they are largely similar, but offer nuances that some data sets might require.</p>
<p>Lastly, I cannot finish this chapter without sharing with you one of the most popular uses of half-violin plots: The rain cloud plot. It is a combination of a dot plot with a density plot. Each dot represents a movie in our dataset. This creates the appearance of a cloud with rain drops. There are several packages available that can create such a plot. Here I used the <code>see</code> package.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="descriptive-statistics.html#cb52-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="descriptive-statistics.html#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genre_01 <span class="sc">==</span> <span class="st">&quot;Action&quot;</span> <span class="sc">|</span> genre_01 <span class="sc">==</span> <span class="st">&quot;Drama&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="descriptive-statistics.html#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> genre_01, <span class="at">y =</span> imdb_rating, <span class="at">fill =</span> genre_01)) <span class="sc">+</span> </span>
<span id="cb52-4"><a href="descriptive-statistics.html#cb52-4" aria-hidden="true" tabindex="-1"></a>  see<span class="sc">::</span><span class="fu">geom_violindot</span>(<span class="at">fill_dots =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">size_dots =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb52-5"><a href="descriptive-statistics.html#cb52-5" aria-hidden="true" tabindex="-1"></a>  see<span class="sc">::</span><span class="fu">theme_modern</span>() <span class="sc">+</span></span>
<span id="cb52-6"><a href="descriptive-statistics.html#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Rain%20cloud%20plot-1.png" width="672" /></p>
</div>
<div id="qq-plot" class="section level3" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> QQ plot: A ‚Äòcute‚Äô plot to check for normality in your data</h3>
<p>The QQ plot is an alternative to comparing distributions to a normality curve. Instead of a curve, we plot a line which represents the quantiles of our data against the quantiles of a normal distribution. The term ‚Äòquantile‚Äô can be somewhat confusing, especially after learning about the boxplot, which shows quartiles. There is a relationship between these terms. Consider the following comparison:</p>
<ul>
<li><p><span class="math inline">\(1^{st}\)</span> Quartile = <span class="math inline">\(25^{th}\)</span> percentile = 0.25 quantile</p></li>
<li><p><span class="math inline">\(2^{nd}\)</span> Quartile = <span class="math inline">\(50^{th}\)</span> percentile = 0.50 quantile = median</p></li>
<li><p><span class="math inline">\(3^{rd}\)</span> Quartile = <span class="math inline">\(75^{th}\)</span> percentile = 0.75 quantile</p></li>
</ul>
<p>With these definitions out of the way, let‚Äôs plot some quantiles against each other.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="descriptive-statistics.html#cb53-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="descriptive-statistics.html#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="descriptive-statistics.html#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb53-4"><a href="descriptive-statistics.html#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>)<span class="sc">+</span></span>
<span id="cb53-5"><a href="descriptive-statistics.html#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>,</span>
<span id="cb53-6"><a href="descriptive-statistics.html#cb53-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;The 5h long movie&quot;</span>,</span>
<span id="cb53-7"><a href="descriptive-statistics.html#cb53-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="fl">2.5</span>,</span>
<span id="cb53-8"><a href="descriptive-statistics.html#cb53-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="dv">308</span>,</span>
<span id="cb53-9"><a href="descriptive-statistics.html#cb53-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/QQ%20plot-1.png" width="672" /></p>
<p>The function <code>geom_qq()</code> is responsible for creating the dots, while <code>geom_qq_line</code> creates a reference for a normal distribution. The reference line is drawn in such a way that it touches the quartiles of our distribution. Ideally, we would want that all dotes are firmly aligned with each other. Unfortunately, this is not the case in our dataset. At the top and at the bottom we have points that deviate quite far from a normal distribution. Remember the five hour long movie? It is very far away from the rest of the other movies in our dataset.</p>
</div>
<div id="standard-deviation" class="section level3" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> Standard deviation: Your average deviation from the mean</h3>
<p>I left the most commonly reported statistics for the spread of data last. The main reasons for this lies in the fact that one easily jumps ahead to look at the standard deviation without ever considering plotting the distribution in the first place. Similar to the mean and other numeric indicators, they could potentially convey the wrong impression. Nevertheless, the standard deviation is an import measure.</p>
<p>To understand what the standard deviation is, we can consider the following visualisation:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="descriptive-statistics.html#cb54-1" aria-hidden="true" tabindex="-1"></a>runtime_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb54-2"><a href="descriptive-statistics.html#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="descriptive-statistics.html#cb54-3" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb54-4"><a href="descriptive-statistics.html#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, runtime_min) <span class="sc">%&gt;%</span> </span>
<span id="cb54-5"><a href="descriptive-statistics.html#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> title, <span class="at">y =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb54-6"><a href="descriptive-statistics.html#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb54-7"><a href="descriptive-statistics.html#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> runtime_mean, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb54-8"><a href="descriptive-statistics.html#cb54-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb54-9"><a href="descriptive-statistics.html#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Making the plot a bit more pretty</span></span>
<span id="cb54-10"><a href="descriptive-statistics.html#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),         <span class="co"># Removes movie titles</span></span>
<span id="cb54-11"><a href="descriptive-statistics.html#cb54-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),    <span class="co"># Removes grid lines</span></span>
<span id="cb54-12"><a href="descriptive-statistics.html#cb54-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()     <span class="co"># Turns background white</span></span>
<span id="cb54-13"><a href="descriptive-statistics.html#cb54-13" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb54-14"><a href="descriptive-statistics.html#cb54-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;run time&quot;</span>) <span class="sc">+</span></span>
<span id="cb54-15"><a href="descriptive-statistics.html#cb54-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movies&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Standard%20deviation%20visualised%20p1-1.png" width="672" /></p>
<p>The red line represent the mean runtime for all movies in the dataset, which is 129 minutes. We notice that the points are falling around the mean, but not really directly on it. In other words, there are not many movies that are about 129 minutes long. We make this visualisation even more meaningful if we sorted the movies by their runtime. We can also change the shape of the dots (see also Chapter <a href="correlations.html#correlations">9</a> by using the attribute <code>shape</code>. This helps to plot many dots without having them overlap.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="descriptive-statistics.html#cb55-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="descriptive-statistics.html#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, runtime_min) <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="descriptive-statistics.html#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(title, runtime_min), <span class="at">y =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb55-4"><a href="descriptive-statistics.html#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">124</span>) <span class="sc">+</span></span>
<span id="cb55-5"><a href="descriptive-statistics.html#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> runtime_mean, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb55-6"><a href="descriptive-statistics.html#cb55-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-7"><a href="descriptive-statistics.html#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb55-8"><a href="descriptive-statistics.html#cb55-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb55-9"><a href="descriptive-statistics.html#cb55-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb55-10"><a href="descriptive-statistics.html#cb55-10" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb55-11"><a href="descriptive-statistics.html#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;run time&quot;</span>) <span class="sc">+</span></span>
<span id="cb55-12"><a href="descriptive-statistics.html#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movies&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Standard%20deviation%20visualised%20p2-1.png" width="672" /></p>
<p>As we can see, there is only a small fraction of movies that are close to the mean. If we now consider the distance of each dot from the red line, we know how much each dot, i.e.¬†each movie, deviates from the mean. The standard deviation tells us how much the runtime deviates on average. To be more specific, to compute the standard deviation by hand you would:</p>
<ul>
<li><p>subtract the mean runtime from the runtime of each movie and square it, i.e.¬†<span class="math inline">\(deviations = (runtime\_min - mean_{all\ movies})^2\)</span>,</p></li>
<li><p>then we take the sum of all deviations and divide it by the number of movies minus 1, i.e.¬†<span class="math inline">\(\frac{\sum(deviations)}{250-1}\)</span>, and because we squared the deviations,</p></li>
<li><p>we take the square root of this score, i.e.¬†<span class="math inline">\(\sqrt{\frac{\sum(deviations)}{250-1}}\)</span>.</p></li>
</ul>
<p>We could compute this by hand if we wanted, but it is much simpler to use the function<code>sd()</code> to achieve the same. The result shows that movies tend to be about 32 minutes longer or shorter than the average movie. This seems quite long.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="descriptive-statistics.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span></code></pre></div>
<pre><code>## [1] 32.63701</code></pre>
<p>However, we have to be aware that this score is also influenced by the outliers we detected before. As such, if standard deviations in your data appear quite large, it likely is due to outliers and you should investigate further. Needless to say, plotting your data will undoubtedly help to diagnose any outliers.</p>
</div>
<div id="dealing-with-outliers" class="section level3" number="8.3.3">
<h3><span class="header-section-number">8.3.3</span> Dealing with outliers</h3>
<p>In this Chapter, I referred to outliers many times but never eluded to the aspects of handling them. Dealing with outliers is similar to dealing with missing data. It is not quite as straightforward as one might think.</p>
<p>In a first step, we need to determine which values count as an outlier. <span class="citation"><a href="#ref-aguinis2013best" role="doc-biblioref">Aguinis, Gottfredson, and Joo</a> (<a href="#ref-aguinis2013best" role="doc-biblioref">2013</a>)</span> reviewed 232 journal articles and found that scholars had defined outliers in 14 different ways, used 39 different techniques to detect them and applied 20 different strategies to handle them. It would be impossible to work through all different options in this book. However, I want to offer two options that have been frequently considered in publications in the field of Social Sciences:</p>
<ul>
<li><p>the standard deviation</p></li>
<li><p>the inter-quartile range</p></li>
</ul>
<div id="ouliers-standard_deviation" class="section level4" number="8.3.3.1">
<h4><span class="header-section-number">8.3.3.1</span> Detecting outliers using the standard deviation</h4>
<p>A very frequently used approach to detecting outliers is the use of the standard deviation. Usually, scholars use multiples of the standard deviation to determine thresholds. For example, a value that lies 3 standard deviations above or below the mean could be categorised as an outlier. Unfortunately, there is quite some variability regarding how many multiples of the standard deviation counts as an outlier. Some authors might use 3, others might settle for 2 (see also <span class="citation"><a href="#ref-leys2013detecting" role="doc-biblioref">Leys et al.</a> (<a href="#ref-leys2013detecting" role="doc-biblioref">2013</a>)</span>). Let‚Äôs stick with the definition of 3 standard deviations to begin with. We can revisit our previous plot and add lines which show the thresholds above and below the mean.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="descriptive-statistics.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the mean and standard deviation</span></span>
<span id="cb58-2"><a href="descriptive-statistics.html#cb58-2" aria-hidden="true" tabindex="-1"></a>runtime_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb58-3"><a href="descriptive-statistics.html#cb58-3" aria-hidden="true" tabindex="-1"></a>sd_upper <span class="ot">&lt;-</span> runtime_mean <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> <span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb58-4"><a href="descriptive-statistics.html#cb58-4" aria-hidden="true" tabindex="-1"></a>sd_lower <span class="ot">&lt;-</span> runtime_mean <span class="sc">-</span> <span class="dv">3</span> <span class="sc">*</span> <span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb58-5"><a href="descriptive-statistics.html#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="descriptive-statistics.html#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create our plot</span></span>
<span id="cb58-7"><a href="descriptive-statistics.html#cb58-7" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb58-8"><a href="descriptive-statistics.html#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, runtime_min) <span class="sc">%&gt;%</span> </span>
<span id="cb58-9"><a href="descriptive-statistics.html#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(title, runtime_min), <span class="at">y =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb58-10"><a href="descriptive-statistics.html#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">124</span>) <span class="sc">+</span></span>
<span id="cb58-11"><a href="descriptive-statistics.html#cb58-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> runtime_mean, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-12"><a href="descriptive-statistics.html#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> sd_upper, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-13"><a href="descriptive-statistics.html#cb58-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> sd_lower, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb58-14"><a href="descriptive-statistics.html#cb58-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-15"><a href="descriptive-statistics.html#cb58-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb58-16"><a href="descriptive-statistics.html#cb58-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb58-17"><a href="descriptive-statistics.html#cb58-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb58-18"><a href="descriptive-statistics.html#cb58-18" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb58-19"><a href="descriptive-statistics.html#cb58-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;run time&quot;</span>) <span class="sc">+</span></span>
<span id="cb58-20"><a href="descriptive-statistics.html#cb58-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movies&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Outlier%20detection%20usind%203%20sd-1.png" width="672" /></p>
<p>The results suggests that only very few outliers would be detected if we chose these thresholds. Especially ‚ÄòSherlock Jr.‚Äô the shortest movie in our dataset would not classify as an outlier. How about we choosen two standard deviations instead?</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="descriptive-statistics.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the mean and standard deviation</span></span>
<span id="cb59-2"><a href="descriptive-statistics.html#cb59-2" aria-hidden="true" tabindex="-1"></a>runtime_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb59-3"><a href="descriptive-statistics.html#cb59-3" aria-hidden="true" tabindex="-1"></a>sd_upper <span class="ot">&lt;-</span> runtime_mean <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb59-4"><a href="descriptive-statistics.html#cb59-4" aria-hidden="true" tabindex="-1"></a>d_lower <span class="ot">&lt;-</span> runtime_mean <span class="sc">-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">sd</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb59-5"><a href="descriptive-statistics.html#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="descriptive-statistics.html#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create our plot</span></span>
<span id="cb59-7"><a href="descriptive-statistics.html#cb59-7" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb59-8"><a href="descriptive-statistics.html#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, runtime_min) <span class="sc">%&gt;%</span> </span>
<span id="cb59-9"><a href="descriptive-statistics.html#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(title, runtime_min), <span class="at">y =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb59-10"><a href="descriptive-statistics.html#cb59-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">124</span>) <span class="sc">+</span></span>
<span id="cb59-11"><a href="descriptive-statistics.html#cb59-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> runtime_mean, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb59-12"><a href="descriptive-statistics.html#cb59-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> sd_upper, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb59-13"><a href="descriptive-statistics.html#cb59-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> sd_lower, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb59-14"><a href="descriptive-statistics.html#cb59-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-15"><a href="descriptive-statistics.html#cb59-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb59-16"><a href="descriptive-statistics.html#cb59-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb59-17"><a href="descriptive-statistics.html#cb59-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb59-18"><a href="descriptive-statistics.html#cb59-18" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb59-19"><a href="descriptive-statistics.html#cb59-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;run time&quot;</span>) <span class="sc">+</span></span>
<span id="cb59-20"><a href="descriptive-statistics.html#cb59-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movies&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Outlier%20detection%20usind%202%20sd-1.png" width="672" /></p>
<p>As we would expect, we identify some more movies as being outliers. Still, it feels rather arbitrary to choose a threshold of our liking. Despite its popularity, there are additional problems with this approach:</p>
<ul>
<li><p>outliers affect our mean and standard deviation too,</p></li>
<li><p>since we use the mean, we assume that our data is normally distributed, and</p></li>
<li><p>in smaller samples, this approach might result in not identifying outliers at all (despite their presence) (<span class="citation"><a href="#ref-leys2013detecting" role="doc-biblioref">Leys et al.</a> (<a href="#ref-leys2013detecting" role="doc-biblioref">2013</a>)</span>, p.¬†764)</p></li>
</ul>
<p><span class="citation"><a href="#ref-leys2013detecting" role="doc-biblioref">Leys et al.</a> (<a href="#ref-leys2013detecting" role="doc-biblioref">2013</a>)</span> propose an alternative approach, based on the fact that medians are much less vulnerable to outliers than the mean. Similarly to the standard deviation, it is possible to calculate thresholds using the ‚Äòmedian absolute deviation‚Äô (MAD). Best of all, the function <code>mad()</code> in R does this automatically for us. <span class="citation"><a href="#ref-leys2013detecting" role="doc-biblioref">Leys et al.</a> (<a href="#ref-leys2013detecting" role="doc-biblioref">2013</a>)</span> suggest to use 2.5 times the MAD as a threshold. However, if we want to compare directly how well this option does against the standard deviation, we should <code>3</code> again.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="descriptive-statistics.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the median and thresholds</span></span>
<span id="cb60-2"><a href="descriptive-statistics.html#cb60-2" aria-hidden="true" tabindex="-1"></a>runtime_median <span class="ot">&lt;-</span> <span class="fu">median</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb60-3"><a href="descriptive-statistics.html#cb60-3" aria-hidden="true" tabindex="-1"></a>mad_upper <span class="ot">&lt;-</span> runtime_median <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> <span class="fu">mad</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb60-4"><a href="descriptive-statistics.html#cb60-4" aria-hidden="true" tabindex="-1"></a>mad_lower <span class="ot">&lt;-</span> runtime_median <span class="sc">-</span> <span class="dv">3</span> <span class="sc">*</span> <span class="fu">mad</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb60-5"><a href="descriptive-statistics.html#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="descriptive-statistics.html#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create our plot</span></span>
<span id="cb60-7"><a href="descriptive-statistics.html#cb60-7" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb60-8"><a href="descriptive-statistics.html#cb60-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, runtime_min) <span class="sc">%&gt;%</span> </span>
<span id="cb60-9"><a href="descriptive-statistics.html#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(title, runtime_min), <span class="at">y =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb60-10"><a href="descriptive-statistics.html#cb60-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">124</span>) <span class="sc">+</span></span>
<span id="cb60-11"><a href="descriptive-statistics.html#cb60-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> runtime_median, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb60-12"><a href="descriptive-statistics.html#cb60-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> mad_upper, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb60-13"><a href="descriptive-statistics.html#cb60-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> mad_lower, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb60-14"><a href="descriptive-statistics.html#cb60-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-15"><a href="descriptive-statistics.html#cb60-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb60-16"><a href="descriptive-statistics.html#cb60-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb60-17"><a href="descriptive-statistics.html#cb60-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb60-18"><a href="descriptive-statistics.html#cb60-18" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb60-19"><a href="descriptive-statistics.html#cb60-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;run time&quot;</span>) <span class="sc">+</span></span>
<span id="cb60-20"><a href="descriptive-statistics.html#cb60-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movies&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Outlier%20detection%20via%20median%20MAD3-1.png" width="672" /></p>
<p>Compared to our previous results, we notice that the median approach was much better in detecting outliers at the upper range of <code>runtim_min</code>. Because the median is not affected so much by the five hour-long movie, the results have improved. Still, we would not classify the outlier at the bottom for the shortest movie in the data. If we chose the criterion of 2.5*MAD, we would also get this outlier (see Figure <a href="descriptive-statistics.html#fig:MAD2-outlier-detection">8.4</a>).</p>
<div class="figure"><span id="fig:MAD2-outlier-detection"></span>
<img src="r_for_non_programmers_files/figure-html/MAD2-outlier-detection-1.png" alt="Outlier detection via MAD using `2.5 * MAD` as a threshold" width="672" />
<p class="caption">
Figure 8.4: Outlier detection via MAD using <code>2.5 * MAD</code> as a threshold
</p>
</div>
<p>Which approach to choose can be informed by the normality of your data. If your data is normally distributed, the mean and median would be very close to each other and the results from both approach would return very similar results. However, if your data is not normally distributed, it might be better to classify outliers using the median.</p>
</div>
<div id="outliers-iqr" class="section level4" number="8.3.3.2">
<h4><span class="header-section-number">8.3.3.2</span> Detecting outliers using the interquartile range</h4>
<p>Another approach to classify outliers is the use of the interquartile range (IQR). This one is used in boxplots and creates the dots at its ends to indicate any outliers. This approach is very easy to implement because the computation of the IQR is simple:</p>
<div id="iqr-formula" align="center">
<p><span class="math inline">\(IQR = Q_{3}-Q_{1}\)</span></p>
</div>
<p>Therefore, we can create new thresholds for the detection of outliers. For IQR it is common to use ‚Äò1.5 * IQR‚Äô as the lower and upper thresholds.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="descriptive-statistics.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the median and thresholds</span></span>
<span id="cb61-2"><a href="descriptive-statistics.html#cb61-2" aria-hidden="true" tabindex="-1"></a>runtime_median <span class="ot">&lt;-</span> <span class="fu">median</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb61-3"><a href="descriptive-statistics.html#cb61-3" aria-hidden="true" tabindex="-1"></a>iqr_upper <span class="ot">&lt;-</span> runtime_median <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> <span class="fu">IQR</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb61-4"><a href="descriptive-statistics.html#cb61-4" aria-hidden="true" tabindex="-1"></a>iqr_lower <span class="ot">&lt;-</span> runtime_median <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> <span class="fu">IQR</span>(imdb_top_250<span class="sc">$</span>runtime_min)</span>
<span id="cb61-5"><a href="descriptive-statistics.html#cb61-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-6"><a href="descriptive-statistics.html#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create our plot</span></span>
<span id="cb61-7"><a href="descriptive-statistics.html#cb61-7" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb61-8"><a href="descriptive-statistics.html#cb61-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, runtime_min) <span class="sc">%&gt;%</span> </span>
<span id="cb61-9"><a href="descriptive-statistics.html#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(title, runtime_min), <span class="at">y =</span> runtime_min)) <span class="sc">+</span></span>
<span id="cb61-10"><a href="descriptive-statistics.html#cb61-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">124</span>) <span class="sc">+</span></span>
<span id="cb61-11"><a href="descriptive-statistics.html#cb61-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> runtime_median, <span class="at">colour =</span> <span class="st">&quot;red&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb61-12"><a href="descriptive-statistics.html#cb61-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> iqr_upper, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb61-13"><a href="descriptive-statistics.html#cb61-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> iqr_lower, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb61-14"><a href="descriptive-statistics.html#cb61-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-15"><a href="descriptive-statistics.html#cb61-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),    </span>
<span id="cb61-16"><a href="descriptive-statistics.html#cb61-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb61-17"><a href="descriptive-statistics.html#cb61-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_blank</span>()</span>
<span id="cb61-18"><a href="descriptive-statistics.html#cb61-18" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb61-19"><a href="descriptive-statistics.html#cb61-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;run time&quot;</span>) <span class="sc">+</span></span>
<span id="cb61-20"><a href="descriptive-statistics.html#cb61-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;movies&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/IQR%20as%20a%20threshold%20for%20outliers-1.png" width="672" /></p>
<p>As we can tell, the IQR detects much more outliers for our data than any of the previous methods. The outliers we find here are the same as shown in Figure <a href="descriptive-statistics.html#fig:a-boxplot">8.1</a>.</p>
<p>For our data it seems that the MAD by <span class="citation"><a href="#ref-leys2013detecting" role="doc-biblioref">Leys et al.</a> (<a href="#ref-leys2013detecting" role="doc-biblioref">2013</a>)</span> produced the ‚Äòbest‚Äô selection. However, we have to acknowledge that these classifications will always be subjective, because the decision of how we position the thresholds is still depending on the researcher‚Äôs choice.</p>
</div>
<div id="removing-or-replacing-outliers" class="section level4" number="8.3.3.3">
<h4><span class="header-section-number">8.3.3.3</span> Removing or replacing outliers</h4>
<p>Now that we have identified our outliers we are confronted with the question what we should do with them. Similar to missing data (see Chapter <a href="data-wrangling.html#dealing-with-missing-data">7.6</a>) we can either remove them or replace them with other values. While removal is a fairly simple task, replacing it with other ‚Äòreasonable‚Äô values implies that we need to find techniques to create such values. As you may remember, we were confronted with a similar problem before when we looked into missing data (Chapter <a href="data-wrangling.html#dealing-with-missing-data">7.6</a>. The same techniques, especially multiple imputation <span class="citation">(see <a href="#ref-cousineau2010outliers" role="doc-biblioref">Cousineau and Chartier 2010</a>)</span>, can be used for such scenarios as well.</p>
<p>Irrespective of whether we remove or replace outliers, we somehow need to single them out of the crowd. Since the MAD strategy worked well for our data, we can use the thresholds we defined before, i.e.¬†<code>mad_upper</code> and <code>mad_lower</code>. Therefore, an observation (i.e.¬†a movie) is considered as an outlier if:</p>
<ul>
<li><p>its value lies above <code>mad_upper</code>, or</p></li>
<li><p>its value lies below <code>mad_lower</code></p></li>
</ul>
<p>It becomes clear that we somehow need to define a condition, because if it is an outlier, it should be labelled as one, if not then it should not be labelled as one. Ideally we want a new column in our dataset which indicates whether a movie is an outlier (i.e.¬†outlier = TRUE) or not (outlier = FALSE). R offers a way for us to express such conditions with the function <code>ifelse()</code>. It has the following structure:</p>
<div id="ifelse-function" align="center">
<p><code>ifelse(condition, TRUE, FALSE)</code></p>
</div>
<p>Let‚Äôs formulate a sentence that describes our scenario as an <code>ifelse()</code> function:</p>
<ul>
<li><p>If a movie‚Äôs <code>runtime_min</code> is longer than <code>mad_upper</code>, <u>or</u></p></li>
<li><p>if a movie‚Äôs <code>runtime_min</code> is lower than <code>mad_lower</code>,</p></li>
<li><p>classify this movie as an outlier (i.e.¬†<code>TRUE</code>),</p></li>
<li><p>otherwise classify this movie as not being an outlier (i.e.¬†<code>FALSE</code>).</p></li>
</ul>
<p>We already know from Chapter <a href="r-basics-the-very-fundamentals.html#basic-computations-in-r">5.1</a> how to use logical and arithmetic operators. All we have to do is put them together in one function call.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="descriptive-statistics.html#cb62-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="ot">&lt;-</span> imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="descriptive-statistics.html#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outlier =</span> <span class="fu">ifelse</span>(runtime_min <span class="sc">&gt;</span> mad_upper <span class="sc">|</span> runtime_min <span class="sc">&lt;</span> mad_lower,</span>
<span id="cb62-3"><a href="descriptive-statistics.html#cb62-3" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span>, <span class="cn">FALSE</span>))</span></code></pre></div>
<p>Since we have a classification we can more thoroughly inspect our outliers and see which movies are the ones that are lying outside our defined norm. We can <code>arrange()</code> them by <code>runtime_min</code>.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="descriptive-statistics.html#cb63-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb63-2"><a href="descriptive-statistics.html#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(outlier <span class="sc">==</span> <span class="st">&quot;TRUE&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb63-3"><a href="descriptive-statistics.html#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(title, runtime_min, outlier) <span class="sc">%&gt;%</span> </span>
<span id="cb63-4"><a href="descriptive-statistics.html#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(runtime_min)</span></code></pre></div>
<pre><code>## # A tibble: 10 √ó 3
##    title                                         runtime_min outlier
##    &lt;chr&gt;                                               &lt;dbl&gt; &lt;lgl&gt;  
##  1 Sherlock Jr.                                           45 TRUE   
##  2 The Lord of the Rings: The Return of the King         201 TRUE   
##  3 The Godfather: Part II                                202 TRUE   
##  4 Andrei Rublev                                         205 TRUE   
##  5 Seven Samurai                                         207 TRUE   
##  6 Ben-Hur                                               212 TRUE   
##  7 Lawrence of Arabia                                    228 TRUE   
##  8 Once Upon a Time in America                           229 TRUE   
##  9 Gone with the Wind                                    238 TRUE   
## 10 Gangs of Wasseypur                                    321 TRUE</code></pre>
<p>The list of movies contains some of the most iconic Hollywood films ever shown on screen. I think we can agree that most of them are truly outside the norm of regular movies, not just in terms of runtime.</p>
<p>From here it is simple to remove these movies (i.e.¬†keep the movies that are not outliers) or set their values to <code>NA</code> by writing the following lines of code. We replace the values with <code>NA</code> we can the continue with one of the techniques demonstrated for missing values (Chapter <a href="data-wrangling.html#dealing-with-missing-data">7.6</a>.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="descriptive-statistics.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep all movies that are not outliers</span></span>
<span id="cb65-2"><a href="descriptive-statistics.html#cb65-2" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb65-3"><a href="descriptive-statistics.html#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(outlier <span class="sc">==</span> <span class="st">&quot;FALSE&quot;</span>)</span>
<span id="cb65-4"><a href="descriptive-statistics.html#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="descriptive-statistics.html#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace values with NA</span></span>
<span id="cb65-6"><a href="descriptive-statistics.html#cb65-6" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb65-7"><a href="descriptive-statistics.html#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">runtime_min =</span> <span class="fu">replace</span>(runtime_min, outlier <span class="sc">==</span> <span class="st">&quot;TRUE&quot;</span>, <span class="cn">NA</span>))</span></code></pre></div>
<p>The <code>replace()</code> function is very intuitive to use. It first needs to know where you want to replace a value (<code>runtime_min</code>), then what the condition for replacing is (<code>outlier == "TRUE"</code>), and lastly, which value should be put instead of the original one (<code>NA</code>).</p>
<p>As you hopefully noticed, understanding your data requires some effort, but it is important to know your data well before proceeding to any further analysis. You can experiment with different data visualisations and design them in a way that best reflect the message you want to get across. For example, because we have now a separate variable which classifies outliers we can do more with our data visualisation than before and dress it up a bit more nicely.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="descriptive-statistics.html#cb66-1" aria-hidden="true" tabindex="-1"></a>colour_pal <span class="ot">&lt;-</span> wesanderson<span class="sc">::</span><span class="fu">wes_palette</span>(<span class="st">&quot;Darjeeling1&quot;</span>, <span class="dv">11</span>, <span class="at">type =</span> <span class="st">&quot;continuous&quot;</span>)</span>
<span id="cb66-2"><a href="descriptive-statistics.html#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="descriptive-statistics.html#cb66-3" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb66-4"><a href="descriptive-statistics.html#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(genre_01, runtime_min),</span>
<span id="cb66-5"><a href="descriptive-statistics.html#cb66-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> runtime_min,</span>
<span id="cb66-6"><a href="descriptive-statistics.html#cb66-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> genre_01)</span>
<span id="cb66-7"><a href="descriptive-statistics.html#cb66-7" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">+</span></span>
<span id="cb66-8"><a href="descriptive-statistics.html#cb66-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="dv">0</span>,</span>
<span id="cb66-9"><a href="descriptive-statistics.html#cb66-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb66-10"><a href="descriptive-statistics.html#cb66-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>,</span>
<span id="cb66-11"><a href="descriptive-statistics.html#cb66-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb66-12"><a href="descriptive-statistics.html#cb66-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.5</span>,</span>
<span id="cb66-13"><a href="descriptive-statistics.html#cb66-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb66-14"><a href="descriptive-statistics.html#cb66-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> colour_pal) <span class="sc">+</span></span>
<span id="cb66-15"><a href="descriptive-statistics.html#cb66-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb66-16"><a href="descriptive-statistics.html#cb66-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb66-17"><a href="descriptive-statistics.html#cb66-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;runtime&quot;</span>) <span class="sc">+</span></span>
<span id="cb66-18"><a href="descriptive-statistics.html#cb66-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Genre&quot;</span>) <span class="sc">+</span></span>
<span id="cb66-19"><a href="descriptive-statistics.html#cb66-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Distribution of movie runtimes by genre&quot;</span>)</span></code></pre></div>
<p><img src="r_for_non_programmers_files/figure-html/Final%20plot%20to%20show%20outliers-1.png" width="672" /></p>

</div>
</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-aguinis2013best" class="csl-entry">
Aguinis, Herman, Ryan K Gottfredson, and Harry Joo. 2013. <span>‚ÄúBest-Practice Recommendations for Defining, Identifying, and Handling Outliers.‚Äù</span> <em>Organizational Research Methods</em> 16 (2): 270‚Äì301.
</div>
<div id="ref-cousineau2010outliers" class="csl-entry">
Cousineau, Denis, and Sylvain Chartier. 2010. <span>‚ÄúOutliers Detection and Treatment: A Review.‚Äù</span> <em>International Journal of Psychological Research</em> 3 (1): 58‚Äì67.
</div>
<div id="ref-leys2013detecting" class="csl-entry">
Leys, Christophe, Christophe Ley, Olivier Klein, Philippe Bernard, and Laurent Licata. 2013. <span>‚ÄúDetecting Outliers: Do Not Use Standard Deviation Around the Mean, Use Absolute Deviation Around the Median.‚Äù</span> <em>Journal of Experimental Social Psychology</em> 49 (4): 764‚Äì66.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-wrangling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="correlations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r_for_non_programmers.pdf", "r_for_non_programmers.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
